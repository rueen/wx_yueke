<view class="container">
  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>
  
  <!-- å­¦å‘˜åˆ—è¡¨ -->
  <view class="students-list" wx:elif="{{!isEmpty}}">
    <view class="page-header">
      <text class="page-title">æˆ‘çš„å­¦å‘˜</text>
      <button class="btn btn-primary btn-small" bindtap="onAddStudent">
        æ·»åŠ å­¦å‘˜
      </button>
    </view>
    
    <view class="list">
      <view 
        class="list-item" 
        wx:for="{{students}}" 
        wx:key="id"
        bindtap="onStudentDetail"
        data-id="{{item.id}}"
      >
        <image class="avatar avatar-medium" src="{{item.avatar}}" mode="aspectFill"></image>
        <view class="list-item-content">
          <view class="list-item-title">{{item.nickname}}</view>
          <view class="list-item-subtitle">
            <text wx:if="{{item.coursesLeft}}">å‰©ä½™{{item.coursesLeft}}è¯¾æ—¶</text>
            <text wx:else>æ— è¯¾æ—¶</text>
            <text wx:if="{{item.remark}}"> Â· {{item.remark}}</text>
          </view>
        </view>
        <view class="student-actions">
          <button 
            class="btn btn-outline btn-small" 
            bindtap="onBookCourse"
            data-id="{{item.id}}"
            catchtap="true"
          >
            çº¦è¯¾
          </button>
        </view>
        <view class="list-item-arrow"></view>
      </view>
    </view>
  </view>
  
  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:else>
    <view class="empty-state-icon">ðŸ‘¥</view>
    <view class="empty-state-text">æš‚æ— å­¦å‘˜</view>
    <view class="empty-state-subtitle">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ·»åŠ å­¦å‘˜</view>
    <button class="btn btn-primary margin-top" bindtap="onAddStudent">
      æ·»åŠ å­¦å‘˜
    </button>
  </view>
</view> 